<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Pendientes Kibou</title>
  <link rel="stylesheet" href="carrito.css" />
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
</head>

<body>
<header>
<nav class="navbar">
  <!-- izquierda -->
  <button class="hamburger" aria-label="Abrir men√∫" aria-expanded="false" aria-controls="menu">
    <div></div><div></div><div></div>
  </button>

  <!-- centro -->
  <div class="nav-center">
    <div id="usuario-activo" class="usuario-box">
      <span id="nombre-usuario" class="usuario-nombre">Marc Hidalgo</span>
      <div class="usuario-menu" id="menu-usuario">
        <span id="correo-usuario">correo@ejemplo.com</span><br>
        <button id="cerrar-sesion">Cerrar sesi√≥n</button>
      </div>
    </div>

    <div class="auth-buttons">
      <button onclick="window.location.href='../login/login.html'">Iniciar sesi√≥n</button>
      <button onclick="window.location.href='../registro/registro.html'">Crear perfil</button>
    </div>
  </div>

  <!-- derecha -->
  <a href="carrito.html" class="icon-btn cart-btn" aria-label="Carrito">
    <!-- tu SVG del carrito -->
    <svg viewBox="0 0 24 24" width="22" height="22" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
      <circle cx="9" cy="21" r="1"></circle>
      <circle cx="20" cy="21" r="1"></circle>
      <path d="M1 1h4l2.68 12.39A2 2 0 0 0 9.62 15h7.76a2 2 0 0 0 1.96-1.61l1.38-7.39H6"></path>
    </svg>
    <span class="cart-badge" id="cart-count" hidden>0</span>
  </a>

    <!-- Men√∫ (absoluto, no ocupa espacio en la fila) -->
  <div class="menu" id="menu">
    <a href="../index.html">Inicio</a>
    <a href="/pendientes/pendientes.html">Pendientes</a>
    <a href="../disponibles/disponibles.html">Talleres disponibles</a>
    <a href="../solicitud/solicitud.html">Solicitar taller personalizado</a>
    <a href="../info/info.html">Informaci√≥n</a>
  </div>
</nav>
</header>



<!---------------------Contenido principal---------------------------------------------------->
<main class="contenido-fijo-350">
  <h2 class="coleccion">Tu carrito</h2>

  <div id="cart-need-login" hidden>
    Debes iniciar sesi√≥n para ver tu carrito.
    <div style="margin-top:8px">
      <a href="../login/login.html">Iniciar sesi√≥n</a>
    </div>
  </div>

  <div id="cart-empty" hidden>Tu carrito est√° vac√≠o.</div>
  <div id="cart-list"></div>

  <!-- ENTREGA -->
  <section id="delivery" class="delivery" hidden>
    <h3 class="delivery-title">Entrega</h3>

    <div class="delivery-options">
      <label class="delivery-opt">
        <input type="radio" name="delivery" value="pickup" id="opt-pickup" checked>
        <span>Punto de recogida ‚Äî Esplugues de Llobregat</span>
      </label>

      <label class="delivery-opt">
        <input type="radio" name="delivery" value="shipping" id="opt-shipping">
        <span>Env√≠o por correo (solo Pen√≠nsula) ‚Äî +4,00 ‚Ç¨</span>
      </label>
    </div>

    <!-- Campos solo si hay env√≠o -->
    <div id="shipping-fields" class="shipping-fields" hidden>
      <label>
        Direcci√≥n (calle y n√∫mero)
        <input type="text" id="addr-line" autocomplete="address-line1">
      </label>
      <label>
        C√≥digo postal
        <input type="text" id="addr-zip" inputmode="numeric" pattern="[0-9]{5}" maxlength="5" autocomplete="postal-code">
      </label>
      <label>
        Ciudad / Localidad
        <input type="text" id="addr-city" autocomplete="address-level2">
      </label>
      <label>
        Provincia
        <input type="text" id="addr-prov" autocomplete="address-level1">
      </label>
      <label>
        WhatsApp (opcional)
        <input type="tel" id="addr-wa" inputmode="tel" placeholder="+34 600 123 123">
      </label>
      <p class="delivery-note">Env√≠os solo en la Pen√≠nsula.</p>
    </div>

    <!-- Info pagos/env√≠os -->
    <details class="payinfo">
      <summary>Informaci√≥n de pagos y env√≠os</summary>
      <p>El env√≠o tiene un coste fijo de 4,00 ‚Ç¨ (solo Pen√≠nsula). Te contactaremos en un plazo de 24&nbsp;horas para confirmar el env√≠o y el m√©todo de pago antes de realizar la expedici√≥n.</p>
    </details>
  </section>

  <!-- RESUMEN -->
  <div id="cart-summary" hidden>
    <div class="sum-line">
      <span>Subtotal</span>
      <span id="sum-subtotal">0,00 ‚Ç¨</span>
    </div>
    <div class="sum-line">
      <span>Env√≠o</span>
      <span id="sum-shipping">0,00 ‚Ç¨</span>
    </div>
    <hr class="sum-sep">
    <div class="sum-line sum-total">
      <span>Total</span>
      <span id="sum-total">0,00 ‚Ç¨</span>
    </div>
    <div class="sum-actions">
      <button id="btn-clear" class="btn-sec">Vaciar carrito</button>
      <button id="btn-checkout" class="btn-pri">Finalizar compra</button>
    </div>
  </div>
</main>


<!---------------------------------FOOTER--------------------------------------------------------->
<footer class="site-footer" role="contentinfo">
  <div class="footer-inner">
    <h2 class="footer-title">Contacto</h2>

    <a class="contact-row" href="mailto:tallereskibou@gmail.com">
      <span class="icon">‚úâÔ∏è</span>
      <span>tallereskibou@gmail.com</span>
    </a>

    <a class="contact-row" href="https://www.instagram.com/kibou.es/" target="_blank" rel="noopener" aria-label="Instagram de Kibou">
      <img class="icon-img" src="https://cdn.simpleicons.org/instagram/ffffff" alt="Instagram">
      <span>kibou.es</span>
    </a>

    <div class="contact-row">
      <span class="icon">üìç</span>
      <span>Esplugues de Llobregat</span>
    </div>
  </div>
</footer>

<script type="module" src="carrito.js"></script>
<script type="module" src="../firebase.js"></script>

</body>
</html>
